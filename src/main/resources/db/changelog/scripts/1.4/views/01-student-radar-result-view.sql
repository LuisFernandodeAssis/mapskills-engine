-- student-radar-result-view.sql 1.2.0 29/04/2017
-- Copyright (c) 2017, Fatec-Jessen Vidal. All rights reserved.
-- Fatec-Jessen Vidal proprietary/confidential. Use is subject to license terms.

DROP VIEW IF EXISTS STUDENT_RADAR_RESULT_VIEW;

CREATE VIEW STUDENT_RADAR_RESULT_VIEW AS
	SELECT
		SQC.ID_STUDENT AS ID_STUDENT,
        S.NAME AS SKILL_NAME,
        S.DESCRIPTION AS SKILL_DESCRIPTION,
        SUM(SQC.SKILL_VALUE) AS TOTAL
	FROM SKILL S
	INNER JOIN STUDENT_QUESTION_CONTEXT SQC ON SQC.ID_SKILL = S.ID
	GROUP BY ID_STUDENT, SKILL_NAME, SKILL_DESCRIPTION
	ORDER BY ID_STUDENT ASC;